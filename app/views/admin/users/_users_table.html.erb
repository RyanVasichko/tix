<%= table_tag do %>
  <%= thead_tag do %>
    <tr>
      <%= th_tag do %>
        Name
      <% end %>

      <%= th_tag do %>
        Email
      <% end %>

      <%= th_tag do %>
        Phone
      <% end %>

      <%= th_tag do %>
      <% end %>
    </tr>
  <% end %>
  <tbody>
  <% users.each do |user| %>
    <%= tr_for_tbody_tag id: dom_id(user, :admin) do %>
      <%= td_tag do %>
        <%= link_to user.full_name, user.is_a?(User::Customer) ? edit_admin_customer_path(user) : edit_admin_admin_path(user), class: "text-amber-500 hover:underline hover:text-amber-600 font-medium", data: { turbo_frame: "application_modal" } %>
      <% end %>
      <%= td_tag do %>
        <%= user.email %>
      <% end %>
      <%= td_tag do %>
        <%= user.phone %>
      <% end %>
      <%= td_tag do %>
        <%= render "shared/dropdown", { id: dom_id(user, :admin) } do %>
          <% if user.customer? %>
            <%= dropdown_link_to "View Orders", "#" %>
            <%= dropdown_link_to "Delete",
                                 admin_customer_path(user),
                                 data: { turbo_method: "delete", turbo_frame: "_top" },
                                 class: "block px-4 py-2 hover:bg-gray-100 text-sm text-red-500 hover:text-red-700" %>
          <% end %>

          <% if user.admin? %>
            <%= dropdown_link_to "Deactivate",
                                 admin_admin_path(user),
                                 data: { turbo_method: "delete", turbo_frame: "_top" },
                                 class: "block px-4 py-2 hover:bg-gray-100 text-sm text-red-500 hover:text-red-700" %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
  </tbody>
<% end %>
