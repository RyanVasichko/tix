<div class="max-w-5xl card">
  <%= render "admin/users/tabs" %>

  <!-- TABLE HEADER -->
  <%= table_header_wrapper_tag do %>
    <%= form_with url: admin_customers_path,
                  scope: :search,
                  method: :get,
                  data: { turbo: true, turbo_frame: :customers, turbo_action: "advance" } do |form| %>
      <%= form.label :keyword, class: "sr-only" %>
      <div class="relative">
        <div class="absolute inset-y-0 start-0 flex items-center pl-3 pointer-events-none">
          <svg class="w-4 h-4 text-gray-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
          </svg>
        </div>
        <%= form.text_field :keyword,
                            placeholder: "Search...",
                            data: { controller: "debounced-submit", action: "debounced-submit#submit" },
                            class: "block pt-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-48 bg-gray-50 focus:ring-amber-500 focus:border-amber-500" %>
      </div>
    <% end %>

    <div>
      <%= link_to new_admin_customer_path, data: { turbo_frame: "application_modal" }, class: "flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-amber-600 hover:bg-amber-700" do %>
        <svg class="h-3.5 w-3.5 mr-2" fill="currentColor" viewbox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path clip-rule="evenodd" fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"/>
        </svg>
        Add customer
      <% end %>
    </div>
  <% end %>

  <%= turbo_frame_tag :customers, data: { turbo_action: "advance" } do %>
    <%= render "admin/users/users_table", users: @users do %>
      <%= dropdown_link_to "View Orders", "#" %>
    <% end %>
    <%= custom_pagy_nav(@pagy) %>
  <% end %>
</div>
