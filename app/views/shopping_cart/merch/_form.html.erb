<%= turbo_frame_tag "#{dom_id(shopping_cart_merch, :shopping_cart)}_form", target: :_top do %>

  <div class="relative flex w-full items-center overflow-hidden bg-white px-4 pb-8 pt-14 sm:px-6 sm:pt-8 md:p-6 lg:p-8">
    <div class="grid w-full grid-cols-1 items-start gap-x-6 gap-y-8 sm:grid-cols-12 lg:items-center lg:gap-x-8">
      <div class="aspect-h-3 aspect-w-2 overflow-hidden rounded-lg bg-gray-100 sm:col-span-4 lg:col-span-5">
        <%= image_tag shopping_cart_merch.merch.image.variant(:medium), alt: shopping_cart_merch.merch.name, class: "object-cover object-center" %>
      </div>
      <div class="sm:col-span-8 lg:col-span-7">
        <%= form_with model: shopping_cart_merch, url: shopping_cart_merch_index_url do |form| %>
          <%= form.hidden_field :merch_id %>
          <h2 class="text-xl font-medium text-gray-900 sm:pr-12"><%= shopping_cart_merch.merch.name %></h2>

          <section aria-labelledby="information-heading" class="mt-1">
            <h3 id="information-heading" class="sr-only">Product information</h3>

            <p class="font-medium text-gray-900"><%= number_to_currency(shopping_cart_merch.merch.price) %></p>

            <div class="mt-6">
              <h4 class="sr-only">Description</h4>

              <p class="text-sm text-gray-700"><%= shopping_cart_merch.merch.description %></p>
            </div>
          </section>

          <section>
            <%= form.label :quantity %>
            <%= form.collection_select :quantity, 1..10, :to_i, :to_i, {} %>
          </section>

          <% if shopping_cart_merch.merch.options.count && shopping_cart_merch.merch.option_label %>
            <section aria-labelledby="options-heading" class="mt-8">
              <h3 id="options-heading" class="sr-only">Product options</h3>


              <div class="mt-8">
                <h4 class="text-sm font-medium text-gray-900"><%= shopping_cart_merch.merch.option_label %></h4>

                <fieldset class="mt-2">
                  <legend class="sr-only">Choose a <%= shopping_cart_merch.merch.option_label %></legend>
                  <div class="flex">
                    <%= form.collection_radio_buttons :option, shopping_cart_merch.merch.options, :to_s, :to_s do |b| %>
                      <div class="flex">
                        <%= b.radio_button class: "peer sr-only" %>
                        <%= b.label class: "rounded-md border mr-2 py-3 px-3 text-sm font-medium border-gray-200 bg-white text-gray-900 hover:bg-gray-50 uppercase sm:flex-1 cursor-pointer focus:outline-none peer-checked:border-transparent peer-checked:bg-amber-600 peer-checked:text-white peer-checked:hover:bg-amber-700" %>
                      </div>
                    <% end %>
                  </div>
                </fieldset>
              </div>
            </section>
          <% end %>
          <%= form.submit "Add to Shopping Cart", class: "mt-8 flex w-full items-center justify-center rounded-md border border-transparent bg-amber-600 px-8 py-3 text-base font-medium text-white hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2" %>
        <% end %>
      </div>
    </div>
  </div>
<% end %>
