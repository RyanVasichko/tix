<%= render "shared/modal", max_w: "max-w-5xl", title: "Seat Holds", stay_open_on_successful_submit: true, render_hidden: false do %>
  <%= data_table collection: @held_seats,
                 pagy: @pagy,
                 new_record_button: false,
                 keyword_search_url: reserved_seating_show_seat_holds_path,
                 row_id_suffix: "_hold" do |table| %>
    <% table.column :table_number %>
    <% table.column :seat_number %>
    <% table.column :held_by_admin_name, header: "Held By" %>
    <% table.column "", sortable: false do |seat| %>
      <%= link_to "Release",
                  reserved_seating_show_seat_hold_path(seat.show, seat, { search: { keyword: params.dig(:search, :keyword) } }),
                  data: { turbo_method: :delete, turbo_stream: true },
                  class: "text-sm text-red-500 hover:text-red-700" %>
    <% end %>
    <!--TODO: No held seats message if collection is empty-->
  <% end %>
<% end %>
